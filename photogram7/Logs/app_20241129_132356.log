2024-11-29 13:23:59.586 +01:00 [INF] User profile is available. Using '/Users/yasminali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-11-29 13:24:00.894 +01:00 [INF] Now listening on: https://localhost:7162
2024-11-29 13:24:00.913 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-29 13:24:00.952 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-29 13:24:00.973 +01:00 [INF] Hosting environment: Development
2024-11-29 13:24:01.002 +01:00 [INF] Content root path: /Users/yasminali/Downloads/photogram 6
2024-11-29 13:24:01.450 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/ - null null
2024-11-29 13:24:01.519 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 13:24:01.555 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-29 13:24:01.577 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-29 13:24:01.660 +01:00 [INF] Accessing expired session, Key:b89e8c98-6b40-71d0-2685-55dde9c16b1c
2024-11-29 13:24:01.685 +01:00 [INF] Executed ViewResult - view Index executed in 103.4356ms.
2024-11-29 13:24:01.693 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 137.0982ms
2024-11-29 13:24:01.693 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 13:24:01.702 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/ - 200 null text/html; charset=utf-8 270.3425ms
2024-11-29 13:24:08.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/User/Login - null null
2024-11-29 13:24:08.041 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 13:24:08.047 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-29 13:24:08.122 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-29 13:24:08.181 +01:00 [INF] Accessing expired session, Key:b89e8c98-6b40-71d0-2685-55dde9c16b1c
2024-11-29 13:24:08.191 +01:00 [INF] Executed ViewResult - view Login executed in 71.9191ms.
2024-11-29 13:24:08.192 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 144.1779ms
2024-11-29 13:24:08.192 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 13:24:08.204 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/User/Login - 200 null text/html; charset=utf-8 174.1951ms
2024-11-29 13:24:10.332 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7162/User/Login - application/x-www-form-urlencoded 221
2024-11-29 13:24:10.336 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 13:24:10.352 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-29 13:24:10.526 +01:00 [INF] Attempting to login
2024-11-29 13:24:10.943 +01:00 [INF] Accessing expired session, Key:b89e8c98-6b40-71d0-2685-55dde9c16b1c
2024-11-29 13:24:10.945 +01:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-29 13:24:10.946 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 593.7838ms
2024-11-29 13:24:10.946 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 13:24:10.951 +01:00 [INF] Session started; Key:b89e8c98-6b40-71d0-2685-55dde9c16b1c, Id:8609be85-6e20-9c45-e77d-d2cc5bc8bb88
2024-11-29 13:24:10.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/ - null null
2024-11-29 13:24:10.968 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 13:24:10.968 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-29 13:24:10.969 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-29 13:24:10.973 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7162/User/Login - 302 0 null 642.4518ms
2024-11-29 13:24:11.024 +01:00 [INF] Executed ViewResult - view Index executed in 54.9654ms.
2024-11-29 13:24:11.053 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 84.7108ms
2024-11-29 13:24:11.058 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 13:24:11.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/ - 200 null text/html; charset=utf-8 106.6763ms
2024-11-29 13:24:12.446 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/CreatePost - null null
2024-11-29 13:24:12.448 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:12.473 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePost() on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:24:12.479 +01:00 [INF] Executing ViewResult, running view CreatePost.
2024-11-29 13:24:12.541 +01:00 [INF] Executed ViewResult - view CreatePost executed in 63.048ms.
2024-11-29 13:24:12.565 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 91.3301ms
2024-11-29 13:24:12.566 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:12.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/CreatePost - 200 null text/html; charset=utf-8 120.5664ms
2024-11-29 13:24:33.947 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7162/Post/CreatePost - multipart/form-data; boundary=----WebKitFormBoundary4bMiHZtK432gpUU0 2047636
2024-11-29 13:24:33.969 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:34.017 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(photogram.Models.CreatePostModel) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:24:34.335 +01:00 [INF] Creating a new post in PostController
2024-11-29 13:24:34.831 +01:00 [ERR] Failed executing DbCommand (228ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (Size = 53), @p3='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Content", "CreatedAt", "ImagePath", "UserName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-11-29 13:24:35.336 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'photogram.DAL.PostDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Posts.Content'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Posts.Content'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-29 13:24:35.429 +01:00 [ERR] [PostRepository] Create failed for Post {"Id":0,"Content":null,"UserName":"hei@gmail.com","ImagePath":"/uploads/20cd4eb2-f1a3-48f2-851b-7aaafdf61ff1_art.png","CreatedAt":"2024-11-29T13:24:34.3365370+01:00","Comments":[],"$type":"Post"}: An error occurred while saving the entity changes. See the inner exception for details.
2024-11-29 13:24:35.435 +01:00 [ERR] Failed to create the post.
2024-11-29 13:24:35.456 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-29 13:24:35.457 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 1440.0142ms
2024-11-29 13:24:35.458 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:35.464 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7162/Post/CreatePost - 500 null text/plain; charset=utf-8 1517.4617ms
2024-11-29 13:24:36.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/CreatePost - null null
2024-11-29 13:24:36.577 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:36.577 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePost() on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:24:36.578 +01:00 [INF] Executing ViewResult, running view CreatePost.
2024-11-29 13:24:36.611 +01:00 [INF] Executed ViewResult - view CreatePost executed in 32.2793ms.
2024-11-29 13:24:36.662 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 57.0497ms
2024-11-29 13:24:36.662 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 13:24:36.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/CreatePost - 200 null text/html; charset=utf-8 125.0361ms
2024-11-29 13:24:49.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Home/Feed - null null
2024-11-29 13:24:49.889 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-29 13:24:49.891 +01:00 [INF] Route matched with {action = "Feed", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Feed() on controller photogram.Controllers.HomeController (photogram).
2024-11-29 13:24:49.892 +01:00 [INF] Executing RedirectResult, redirecting to /Post/Feed.
2024-11-29 13:24:49.892 +01:00 [INF] Executed action photogram.Controllers.HomeController.Feed (photogram) in 1.2064ms
2024-11-29 13:24:49.893 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-29 13:24:49.893 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Home/Feed - 302 0 null 8.6392ms
2024-11-29 13:24:49.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/Feed - null null
2024-11-29 13:24:49.905 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-29 13:24:49.913 +01:00 [INF] Route matched with {action = "Feed", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Feed(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:24:50.016 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-29 13:24:50.249 +01:00 [INF] Executed ViewResult - view Feed executed in 235.1425ms.
2024-11-29 13:24:50.250 +01:00 [INF] Executed action photogram.Controllers.PostController.Feed (photogram) in 336.8238ms
2024-11-29 13:24:50.250 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-29 13:24:50.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/Feed - 200 null text/html; charset=utf-8 348.1761ms
2024-11-29 13:25:05.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/MyPosts - null null
2024-11-29 13:25:05.141 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:05.148 +01:00 [INF] Route matched with {action = "MyPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyPosts(System.Nullable`1[System.Int32]) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:25:05.445 +01:00 [INF] Executing ViewResult, running view MyPosts.
2024-11-29 13:25:05.661 +01:00 [INF] Executed ViewResult - view MyPosts executed in 217.2231ms.
2024-11-29 13:25:05.693 +01:00 [INF] Executed action photogram.Controllers.PostController.MyPosts (photogram) in 544.9065ms
2024-11-29 13:25:05.725 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:05.726 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/MyPosts - 200 null text/html; charset=utf-8 585.9533ms
2024-11-29 13:25:12.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/EditPost/8 - null null
2024-11-29 13:25:12.869 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.EditPost (photogram)'
2024-11-29 13:25:12.876 +01:00 [INF] Route matched with {action = "EditPost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditPost(Int32) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:25:12.884 +01:00 [INF] EditPost GET called with ID: 8
2024-11-29 13:25:12.917 +01:00 [INF] Executing RedirectResult, redirecting to /Post/MyPosts?editingPostId=8.
2024-11-29 13:25:12.917 +01:00 [INF] Executed action photogram.Controllers.PostController.EditPost (photogram) in 41.4486ms
2024-11-29 13:25:12.917 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.EditPost (photogram)'
2024-11-29 13:25:12.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/EditPost/8 - 302 0 null 53.3437ms
2024-11-29 13:25:12.950 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/MyPosts?editingPostId=8 - null null
2024-11-29 13:25:12.950 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:12.951 +01:00 [INF] Route matched with {action = "MyPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyPosts(System.Nullable`1[System.Int32]) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:25:13.127 +01:00 [INF] Executing ViewResult, running view MyPosts.
2024-11-29 13:25:13.162 +01:00 [INF] Executed ViewResult - view MyPosts executed in 34.8541ms.
2024-11-29 13:25:13.196 +01:00 [INF] Executed action photogram.Controllers.PostController.MyPosts (photogram) in 211.6093ms
2024-11-29 13:25:13.196 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:13.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/MyPosts?editingPostId=8 - 200 null text/html; charset=utf-8 248.3424ms
2024-11-29 13:25:17.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7162/Post/MyPosts - null null
2024-11-29 13:25:17.204 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:17.205 +01:00 [INF] Route matched with {action = "MyPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyPosts(System.Nullable`1[System.Int32]) on controller photogram.Controllers.PostController (photogram).
2024-11-29 13:25:17.215 +01:00 [INF] Executing ViewResult, running view MyPosts.
2024-11-29 13:25:17.245 +01:00 [INF] Executed ViewResult - view MyPosts executed in 28.8126ms.
2024-11-29 13:25:17.247 +01:00 [INF] Executed action photogram.Controllers.PostController.MyPosts (photogram) in 41.9807ms
2024-11-29 13:25:17.248 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.MyPosts (photogram)'
2024-11-29 13:25:17.249 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7162/Post/MyPosts - 200 null text/html; charset=utf-8 46.2941ms
