2024-11-01 13:02:05.511 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:02:05.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:02:05.919 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:02:06.133 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:02:06.302 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:02:06.319 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:02:06.321 +01:00 [INF] Hosting environment: Development
2024-11-01 13:02:06.321 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:02:25.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:02:25.443 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:02:25.526 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:02:25.616 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:02:25.658 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:02:25.695 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:02:25.834 +01:00 [INF] Executed ViewResult - view Index executed in 136.5505ms.
2024-11-01 13:02:25.847 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 185.5509ms
2024-11-01 13:02:25.848 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:02:25.860 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 487.8724ms
2024-11-01 13:02:28.713 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:02:28.749 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:02:28.768 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:02:28.785 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:02:28.892 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:02:28.896 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:02:28.919 +01:00 [INF] Executed ViewResult - view Login executed in 23.9734ms.
2024-11-01 13:02:28.922 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 136.9605ms
2024-11-01 13:02:28.922 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:02:28.950 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 236.5454ms
2024-11-01 13:02:31.012 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/register - null null
2024-11-01 13:02:31.015 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:02:31.029 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 13:02:31.045 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:02:31.309 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:02:31.313 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 13:02:31.321 +01:00 [INF] Executed ViewResult - view Register executed in 10.0216ms.
2024-11-01 13:02:31.322 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 276.8348ms
2024-11-01 13:02:31.322 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 13:02:31.322 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/register - 200 null text/html; charset=utf-8 310.2322ms
2024-11-01 13:02:44.391 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/register - application/x-www-form-urlencoded 249
2024-11-01 13:02:44.396 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:02:44.397 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 13:02:44.475 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(photogram.ViewModels.RegisterViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:02:44.493 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:02:44.605 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 13:02:44.607 +01:00 [INF] Executed ViewResult - view Register executed in 2.1376ms.
2024-11-01 13:02:44.607 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 132.2997ms
2024-11-01 13:02:44.608 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 13:02:44.608 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/register - 200 null text/html; charset=utf-8 216.8391ms
2024-11-01 13:07:15.615 +01:00 [INF] Application is shutting down...
2024-11-01 13:08:15.156 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:08:15.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:08:15.540 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:08:15.714 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:08:15.793 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:08:15.801 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:08:15.805 +01:00 [INF] Hosting environment: Development
2024-11-01 13:08:15.806 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:08:20.735 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:08:20.893 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:08:21.015 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:08:21.141 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:08:21.178 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:08:21.225 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:08:21.366 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 176.3519ms
2024-11-01 13:08:21.380 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:08:21.421 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The layout view '_Layout' could not be located. The following locations were searched:
/Views/Home/_Layout.cshtml
/Views/Shared/_Layout.cshtml
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.GetLayoutPage(ViewContext context, String executingFilePath, String layoutPath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:08:21.806 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 500 null text/html; charset=utf-8 1119.6339ms
2024-11-01 13:08:40.819 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:08:40.825 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:08:40.827 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:08:40.828 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:08:40.830 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:08:40.842 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 13.3033ms
2024-11-01 13:08:40.843 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:08:40.865 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The layout view '_Layout' could not be located. The following locations were searched:
/Views/Home/_Layout.cshtml
/Views/Shared/_Layout.cshtml
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.GetLayoutPage(ViewContext context, String executingFilePath, String layoutPath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:08:40.897 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 500 null text/html; charset=utf-8 78.6656ms
2024-11-01 13:09:18.738 +01:00 [INF] Application is shutting down...
2024-11-01 13:11:35.910 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:11:36.315 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:11:36.335 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:11:36.504 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:11:36.594 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:11:36.603 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:11:36.605 +01:00 [INF] Hosting environment: Development
2024-11-01 13:11:36.605 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:11:41.704 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:11:41.846 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:11:41.891 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:11:42.007 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:11:42.073 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:11:42.107 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:11:42.275 +01:00 [INF] Executed ViewResult - view Index executed in 166.643ms.
2024-11-01 13:11:42.282 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 207.6905ms
2024-11-01 13:11:42.283 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:11:42.301 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 603.9435ms
2024-11-01 13:11:45.171 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:11:45.224 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:11:45.238 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:11:45.261 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:11:45.406 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:11:45.411 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:11:45.475 +01:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/User/Login.cshtml","/Views/Shared/Login.cshtml"]
2024-11-01 13:11:45.490 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 227.7412ms
2024-11-01 13:11:45.492 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:11:45.513 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/User/Login.cshtml
/Views/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:11:45.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 500 null text/html; charset=utf-8 625.2615ms
2024-11-01 13:12:26.690 +01:00 [INF] Application is shutting down...
2024-11-01 13:12:36.169 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:12:36.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:12:36.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:12:36.817 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:12:36.900 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:12:36.911 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:12:36.914 +01:00 [INF] Hosting environment: Development
2024-11-01 13:12:36.915 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:12:51.508 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:12:51.547 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:12:51.587 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:12:51.659 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:12:51.690 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:12:51.721 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:12:51.881 +01:00 [INF] Executed ViewResult - view Index executed in 152.1372ms.
2024-11-01 13:12:51.885 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 194.436ms
2024-11-01 13:12:51.886 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:12:51.894 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 391.7931ms
2024-11-01 13:12:53.868 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:12:53.877 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:12:53.913 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:12:53.919 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:12:54.030 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:12:54.033 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:12:54.066 +01:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/User/Login.cshtml","/Views/Shared/Login.cshtml"]
2024-11-01 13:12:54.076 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 156.4295ms
2024-11-01 13:12:54.078 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:12:54.103 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/User/Login.cshtml
/Views/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:12:54.184 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 500 null text/html; charset=utf-8 315.1128ms
2024-11-01 13:55:48.849 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:55:48.853 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:55:48.866 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:55:48.866 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:55:49.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:55:49.038 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:55:49.039 +01:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/User/Login.cshtml","/Views/Shared/Login.cshtml"]
2024-11-01 13:55:49.039 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 172.7245ms
2024-11-01 13:55:49.040 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:55:49.046 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/User/Login.cshtml
/Views/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:55:49.054 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 500 null text/html; charset=utf-8 205.2954ms
2024-11-01 13:56:12.931 +01:00 [INF] Application is shutting down...
2024-11-01 13:56:34.602 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:56:35.608 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:56:35.622 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:56:35.843 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:56:36.023 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:56:36.032 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:56:36.034 +01:00 [INF] Hosting environment: Development
2024-11-01 13:56:36.035 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:56:52.942 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:56:52.961 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:56:52.989 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:56:53.030 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:56:53.057 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:56:53.078 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:56:53.165 +01:00 [INF] Executed ViewResult - view Index executed in 87.0713ms.
2024-11-01 13:56:53.172 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 114.285ms
2024-11-01 13:56:53.173 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:56:53.180 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 240.5257ms
2024-11-01 13:56:54.563 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Feed - null null
2024-11-01 13:56:54.565 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:56:54.571 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 13:56:54.574 +01:00 [INF] Route matched with {action = "Feed", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Feed() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:56:54.579 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-01 13:56:54.595 +01:00 [INF] Executed ViewResult - view Feed executed in 17.6593ms.
2024-11-01 13:56:54.595 +01:00 [INF] Executed action photogram.Controllers.HomeController.Feed (photogram) in 20.6934ms
2024-11-01 13:56:54.595 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 13:56:54.596 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/Feed - 200 null text/html; charset=utf-8 33.2534ms
2024-11-01 13:56:56.218 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Friends - null null
2024-11-01 13:56:56.221 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:56:56.245 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Friends (photogram)'
2024-11-01 13:56:56.260 +01:00 [INF] Route matched with {action = "Friends", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Friends() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:56:56.262 +01:00 [INF] Executing ViewResult, running view Friends.
2024-11-01 13:56:56.273 +01:00 [INF] Executed ViewResult - view Friends executed in 12.4721ms.
2024-11-01 13:56:56.275 +01:00 [INF] Executed action photogram.Controllers.HomeController.Friends (photogram) in 13.3082ms
2024-11-01 13:56:56.275 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Friends (photogram)'
2024-11-01 13:56:56.276 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/Friends - 200 null text/html; charset=utf-8 57.7908ms
2024-11-01 13:56:57.375 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Settings - null null
2024-11-01 13:56:57.377 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:56:57.378 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Settings (photogram)'
2024-11-01 13:56:57.384 +01:00 [INF] Route matched with {action = "Settings", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Settings() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:56:57.387 +01:00 [INF] Executing ViewResult, running view Settings.
2024-11-01 13:56:57.390 +01:00 [INF] Executed ViewResult - view Settings executed in 4.6606ms.
2024-11-01 13:56:57.390 +01:00 [INF] Executed action photogram.Controllers.HomeController.Settings (photogram) in 5.2509ms
2024-11-01 13:56:57.390 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Settings (photogram)'
2024-11-01 13:56:57.390 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/Settings - 200 null text/html; charset=utf-8 15.9204ms
2024-11-01 13:57:16.622 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Post/CreatePost - multipart/form-data; boundary=----WebKitFormBoundary7gOLI6hB1nQTJ3H5 641111
2024-11-01 13:57:16.628 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:57:16.629 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 13:57:16.672 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(photogram.Models.PostViewModel) on controller photogram.Controllers.PostController (photogram).
2024-11-01 13:57:16.754 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 81.9926ms
2024-11-01 13:57:16.755 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 13:57:16.780 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.DirectoryNotFoundException: Could not find a part of the path 'C:\Users\adm\Webapplikasjoner\photogram\wwwroot\uploads\2024-05-18.png'.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode)
   at photogram.Controllers.PostController.CreatePost(PostViewModel model) in C:\Users\adm\Webapplikasjoner\photogram\Controllers\PostController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:57:16.867 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Post/CreatePost - 500 null text/html; charset=utf-8 244.0471ms
2024-11-01 13:57:29.713 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:57:29.716 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:57:29.717 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:57:29.720 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:57:29.795 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:57:29.799 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:57:29.811 +01:00 [ERR] The view 'Login' was not found. Searched locations: ["/Views/User/Login.cshtml","/Views/Shared/Login.cshtml"]
2024-11-01 13:57:29.823 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 102.4883ms
2024-11-01 13:57:29.823 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:57:29.827 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Login' was not found. The following locations were searched:
/Views/User/Login.cshtml
/Views/Shared/Login.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:57:29.854 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 500 null text/html; charset=utf-8 141.4224ms
2024-11-01 13:58:07.957 +01:00 [INF] Application is shutting down...
2024-11-01 13:58:16.635 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:58:16.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 13:58:17.011 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 13:58:17.125 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 13:58:17.186 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 13:58:17.193 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 13:58:17.194 +01:00 [INF] Hosting environment: Development
2024-11-01 13:58:17.194 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 13:58:47.346 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 13:58:47.378 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 13:58:47.429 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:58:47.481 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:58:47.499 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 13:58:47.521 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 13:58:47.613 +01:00 [INF] Executed ViewResult - view Index executed in 95.1831ms.
2024-11-01 13:58:47.619 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 118.9117ms
2024-11-01 13:58:47.619 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 13:58:47.630 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 288.0846ms
2024-11-01 13:58:57.164 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 13:58:57.167 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 13:58:57.174 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:58:57.182 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 13:58:57.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 13:58:57.273 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 13:58:57.347 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 164.6201ms
2024-11-01 13:58:57.348 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 13:58:57.357 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Views/Shared/_Layout.cshtml': 'Scripts'. To ignore an unrendered section call IgnoreSection("sectionName").
   at Microsoft.AspNetCore.Mvc.Razor.RazorPage.EnsureRenderedBodyOrSections()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 13:58:57.433 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 500 null text/html; charset=utf-8 268.0666ms
2024-11-01 14:00:41.480 +01:00 [INF] Application is shutting down...
2024-11-01 14:00:50.553 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:00:50.856 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 14:00:50.868 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 14:00:51.009 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 14:00:51.092 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 14:00:51.099 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 14:00:51.102 +01:00 [INF] Hosting environment: Development
2024-11-01 14:00:51.103 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 14:01:10.900 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 14:01:10.915 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 14:01:10.939 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:01:10.971 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 14:01:10.988 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 14:01:11.003 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 14:01:11.080 +01:00 [INF] Executed ViewResult - view Index executed in 79.4935ms.
2024-11-01 14:01:11.087 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 98.9918ms
2024-11-01 14:01:11.088 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 14:01:11.094 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 195.6093ms
2024-11-01 14:01:13.215 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:01:13.221 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:01:13.229 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:01:13.238 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:01:13.315 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:01:13.321 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:01:13.390 +01:00 [INF] Executed ViewResult - view Login executed in 70.6115ms.
2024-11-01 14:01:13.390 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 151.7214ms
2024-11-01 14:01:13.390 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:01:13.403 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 188.3948ms
2024-11-01 14:01:16.605 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:01:16.611 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:01:16.617 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:01:16.622 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:01:16.724 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:01:16.725 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:01:16.741 +01:00 [ERR] The view 'Register' was not found. Searched locations: ["/Views/User/Register.cshtml","/Views/Shared/Register.cshtml"]
2024-11-01 14:01:16.745 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 122.4166ms
2024-11-01 14:01:16.745 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:01:16.754 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Register' was not found. The following locations were searched:
/Views/User/Register.cshtml
/Views/Shared/Register.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 14:01:16.792 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 500 null text/html; charset=utf-8 187.6309ms
2024-11-01 14:02:48.501 +01:00 [INF] Application is shutting down...
2024-11-01 14:03:42.179 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:03:42.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 14:03:42.605 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 14:03:42.785 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 14:03:42.851 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 14:03:42.857 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 14:03:42.858 +01:00 [INF] Hosting environment: Development
2024-11-01 14:03:42.858 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 14:03:47.993 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:03:48.011 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 14:03:48.037 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:03:48.076 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:48.098 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:03:48.125 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:03:48.153 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:03:48.260 +01:00 [INF] Executed ViewResult - view Login executed in 117.0491ms.
2024-11-01 14:03:48.269 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 169.7269ms
2024-11-01 14:03:48.269 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:48.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 292.4694ms
2024-11-01 14:03:49.876 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:03:49.878 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:03:49.884 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:49.884 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:03:49.988 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:03:49.989 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:03:50.003 +01:00 [INF] Executed ViewResult - view Login executed in 14.274ms.
2024-11-01 14:03:50.004 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 119.7419ms
2024-11-01 14:03:50.004 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:50.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 145.8342ms
2024-11-01 14:03:53.952 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:03:53.955 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:03:53.957 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:03:53.961 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:03:53.967 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:03:53.973 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:03:54.002 +01:00 [ERR] The view 'Register' was not found. Searched locations: ["/Views/User/Register.cshtml","/Views/Shared/Register.cshtml"]
2024-11-01 14:03:54.006 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 44.6683ms
2024-11-01 14:03:54.006 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:03:54.011 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Register' was not found. The following locations were searched:
/Views/User/Register.cshtml
/Views/Shared/Register.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 14:03:54.051 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 500 null text/html; charset=utf-8 99.6065ms
2024-11-01 14:03:56.520 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:03:56.521 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:03:56.522 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:56.524 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:03:56.526 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:03:56.529 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:03:56.540 +01:00 [INF] Executed ViewResult - view Login executed in 11.6594ms.
2024-11-01 14:03:56.541 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 16.7807ms
2024-11-01 14:03:56.541 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:03:56.541 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 21.3357ms
2024-11-01 14:04:38.421 +01:00 [INF] Application is shutting down...
2024-11-01 14:04:45.091 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:04:45.364 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 14:04:45.374 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 14:04:45.516 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 14:04:45.590 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 14:04:45.601 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 14:04:45.608 +01:00 [INF] Hosting environment: Development
2024-11-01 14:04:45.609 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 14:05:20.929 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:05:20.956 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 14:05:20.979 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:05:21.023 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:05:21.052 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:05:21.107 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:05:21.147 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:05:21.261 +01:00 [INF] Executed ViewResult - view Login executed in 116.3402ms.
2024-11-01 14:05:21.267 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 212.5927ms
2024-11-01 14:05:21.267 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:05:21.281 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 354.8139ms
2024-11-01 14:05:24.225 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:05:24.227 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:05:24.233 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:05:24.241 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:05:24.374 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:05:24.377 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:05:24.437 +01:00 [INF] Executed ViewResult - view Register executed in 61.1629ms.
2024-11-01 14:05:24.437 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 195.4924ms
2024-11-01 14:05:24.437 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:05:24.450 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 225.29ms
2024-11-01 14:05:36.084 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Register - application/x-www-form-urlencoded 228
2024-11-01 14:05:36.095 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:05:36.096 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:05:36.125 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(photogram.ViewModels.RegisterViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:05:36.128 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:05:36.427 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (Size = 6), @p2='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Name", "Password")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-11-01 14:05:36.487 +01:00 [INF] Executing RedirectResult, redirecting to /User/Table.
2024-11-01 14:05:36.488 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 363.0432ms
2024-11-01 14:05:36.488 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:05:36.489 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Register - 302 0 null 404.3599ms
2024-11-01 14:05:36.557 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Table - null null
2024-11-01 14:05:36.558 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:05:36.559 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:05:36.579 +01:00 [INF] Route matched with {action = "Table", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Table() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:05:36.585 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:05:36.587 +01:00 [INF] This info is a message
2024-11-01 14:05:36.589 +01:00 [WRN] This info is a message
2024-11-01 14:05:36.590 +01:00 [ERR] This info is a message
2024-11-01 14:05:36.696 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
2024-11-01 14:05:36.706 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-01 14:05:36.721 +01:00 [ERR] The view 'Table' was not found. Searched locations: ["/Views/User/Table.cshtml","/Views/Shared/Table.cshtml"]
2024-11-01 14:05:36.725 +01:00 [INF] Executed action photogram.Controllers.UserController.Table (photogram) in 145.5041ms
2024-11-01 14:05:36.726 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:05:36.738 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Table' was not found. The following locations were searched:
/Views/User/Table.cshtml
/Views/Shared/Table.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 14:05:36.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Table - 500 null text/html; charset=utf-8 205.5817ms
2024-11-01 14:05:59.587 +01:00 [INF] Application is shutting down...
2024-11-01 14:06:08.389 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:08.865 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 14:06:08.880 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 14:06:09.019 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 14:06:09.087 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 14:06:09.092 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 14:06:09.093 +01:00 [INF] Hosting environment: Development
2024-11-01 14:06:09.094 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 14:06:12.135 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:06:12.153 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 14:06:12.170 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:12.204 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:12.222 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:12.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:12.450 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:06:12.636 +01:00 [INF] Executed ViewResult - view Register executed in 186.624ms.
2024-11-01 14:06:12.648 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 425.2174ms
2024-11-01 14:06:12.648 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:12.664 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 531.0547ms
2024-11-01 14:06:13.901 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:06:13.903 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:13.910 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:13.910 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:14.050 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:14.052 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:06:14.069 +01:00 [INF] Executed ViewResult - view Register executed in 17.9943ms.
2024-11-01 14:06:14.070 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 159.4849ms
2024-11-01 14:06:14.070 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:14.121 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 170.0781ms
2024-11-01 14:06:22.622 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Register - application/x-www-form-urlencoded 233
2024-11-01 14:06:22.631 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:22.632 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:22.657 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(photogram.ViewModels.RegisterViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:22.668 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:22.879 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 17), @p1='?' (Size = 5), @p2='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Name", "Password")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-11-01 14:06:22.906 +01:00 [INF] Executing RedirectResult, redirecting to /User/Table.
2024-11-01 14:06:22.907 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 249.4059ms
2024-11-01 14:06:22.907 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:22.908 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Register - 302 0 null 285.5958ms
2024-11-01 14:06:22.915 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Table - null null
2024-11-01 14:06:22.917 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:22.919 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:06:22.921 +01:00 [INF] Route matched with {action = "Table", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Table() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:22.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:22.925 +01:00 [INF] This info is a message
2024-11-01 14:06:22.928 +01:00 [WRN] This info is a message
2024-11-01 14:06:22.929 +01:00 [ERR] This info is a message
2024-11-01 14:06:23.029 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
2024-11-01 14:06:23.037 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-01 14:06:23.040 +01:00 [INF] Executed ViewResult - view Table executed in 3.8716ms.
2024-11-01 14:06:23.041 +01:00 [INF] Executed action photogram.Controllers.UserController.Table (photogram) in 119.8278ms
2024-11-01 14:06:23.041 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:06:23.056 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Table - 200 null text/html; charset=utf-8 141.7026ms
2024-11-01 14:06:29.201 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:06:29.202 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:29.203 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:29.215 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:29.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:29.232 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:06:29.254 +01:00 [INF] Executed ViewResult - view Login executed in 30.8336ms.
2024-11-01 14:06:29.254 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 38.9823ms
2024-11-01 14:06:29.255 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:29.255 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 54.0516ms
2024-11-01 14:06:35.416 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 220
2024-11-01 14:06:35.417 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:35.418 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:35.434 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:35.445 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:35.523 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__model_Email_0='?' (Size = 15), @__model_Password_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
WHERE "u"."Email" = @__model_Email_0 AND "u"."Password" = @__model_Password_1
LIMIT 1
2024-11-01 14:06:35.524 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:06:35.530 +01:00 [INF] Executed ViewResult - view Login executed in 6.3448ms.
2024-11-01 14:06:35.530 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 95.6903ms
2024-11-01 14:06:35.530 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:35.530 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 115.5456ms
2024-11-01 14:06:37.236 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 216
2024-11-01 14:06:37.238 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:37.239 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:37.239 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:37.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:37.246 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:06:37.253 +01:00 [INF] Executed ViewResult - view Login executed in 6.6603ms.
2024-11-01 14:06:37.253 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 13.7175ms
2024-11-01 14:06:37.253 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:37.254 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 17.6878ms
2024-11-01 14:06:41.943 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 220
2024-11-01 14:06:41.945 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:41.945 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:41.946 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:41.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:41.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?' (Size = 15), @__model_Password_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
WHERE "u"."Email" = @__model_Email_0 AND "u"."Password" = @__model_Password_1
LIMIT 1
2024-11-01 14:06:41.964 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:06:41.967 +01:00 [INF] Executed ViewResult - view Login executed in 3.5827ms.
2024-11-01 14:06:41.967 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 21.5115ms
2024-11-01 14:06:41.967 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:41.968 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 24.31ms
2024-11-01 14:06:45.269 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 216
2024-11-01 14:06:45.270 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:45.271 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:45.272 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:45.274 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:45.279 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:06:45.289 +01:00 [INF] Executed ViewResult - view Login executed in 10.1941ms.
2024-11-01 14:06:45.289 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 17.1375ms
2024-11-01 14:06:45.289 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:06:45.291 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 22.3164ms
2024-11-01 14:06:51.828 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:06:51.832 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:51.833 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:51.833 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:51.836 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:51.836 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:06:51.843 +01:00 [INF] Executed ViewResult - view Register executed in 6.9183ms.
2024-11-01 14:06:51.845 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 11.8982ms
2024-11-01 14:06:51.845 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:06:51.846 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 17.7932ms
2024-11-01 14:06:53.163 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Table - null null
2024-11-01 14:06:53.164 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:53.165 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:06:53.166 +01:00 [INF] Route matched with {action = "Table", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Table() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:53.169 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:53.169 +01:00 [INF] This info is a message
2024-11-01 14:06:53.169 +01:00 [WRN] This info is a message
2024-11-01 14:06:53.170 +01:00 [ERR] This info is a message
2024-11-01 14:06:53.171 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
2024-11-01 14:06:53.174 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-01 14:06:53.177 +01:00 [INF] Executed ViewResult - view Table executed in 2.8383ms.
2024-11-01 14:06:53.177 +01:00 [INF] Executed action photogram.Controllers.UserController.Table (photogram) in 11.2154ms
2024-11-01 14:06:53.177 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Table (photogram)'
2024-11-01 14:06:53.178 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Table - 200 null text/html; charset=utf-8 14.1325ms
2024-11-01 14:06:56.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Grid - null null
2024-11-01 14:06:56.258 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:06:56.259 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Grid (photogram)'
2024-11-01 14:06:56.264 +01:00 [INF] Route matched with {action = "Grid", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Grid() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:06:56.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:06:56.281 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
2024-11-01 14:06:56.282 +01:00 [INF] Executing ViewResult, running view Grid.
2024-11-01 14:06:56.297 +01:00 [ERR] The view 'Grid' was not found. Searched locations: ["/Views/User/Grid.cshtml","/Views/Shared/Grid.cshtml"]
2024-11-01 14:06:56.301 +01:00 [INF] Executed action photogram.Controllers.UserController.Grid (photogram) in 37.1268ms
2024-11-01 14:06:56.302 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Grid (photogram)'
2024-11-01 14:06:56.311 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Grid' was not found. The following locations were searched:
/Views/User/Grid.cshtml
/Views/Shared/Grid.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 14:06:56.338 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Grid - 500 null text/html; charset=utf-8 80.4195ms
2024-11-01 14:06:59.998 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Feed - null null
2024-11-01 14:07:00.000 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:00.001 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 14:07:00.004 +01:00 [INF] Route matched with {action = "Feed", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Feed() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 14:07:00.006 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-01 14:07:00.014 +01:00 [INF] Executed ViewResult - view Feed executed in 9.2658ms.
2024-11-01 14:07:00.014 +01:00 [INF] Executed action photogram.Controllers.HomeController.Feed (photogram) in 10.237ms
2024-11-01 14:07:00.014 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 14:07:00.015 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/Feed - 200 null text/html; charset=utf-8 16.4635ms
2024-11-01 14:07:02.860 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Home/Feed - null null
2024-11-01 14:07:02.866 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:02.870 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 14:07:02.870 +01:00 [INF] Route matched with {action = "Feed", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Feed() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 14:07:02.870 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-01 14:07:02.871 +01:00 [INF] Executed ViewResult - view Feed executed in 1.0627ms.
2024-11-01 14:07:02.871 +01:00 [INF] Executed action photogram.Controllers.HomeController.Feed (photogram) in 1.3733ms
2024-11-01 14:07:02.872 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Feed (photogram)'
2024-11-01 14:07:02.872 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Home/Feed - 200 null text/html; charset=utf-8 12.4102ms
2024-11-01 14:07:09.036 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:07:09.043 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:09.044 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:07:09.044 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:07:09.052 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:07:09.056 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:07:09.063 +01:00 [INF] Executed ViewResult - view Register executed in 7.7125ms.
2024-11-01 14:07:09.064 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 19.5164ms
2024-11-01 14:07:09.064 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:07:09.064 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 28.3513ms
2024-11-01 14:07:17.727 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 220
2024-11-01 14:07:17.728 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:17.729 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:17.729 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:07:17.732 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:07:17.734 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__model_Email_0='?' (Size = 15), @__model_Password_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."Name", "u"."Password"
FROM "Users" AS "u"
WHERE "u"."Email" = @__model_Email_0 AND "u"."Password" = @__model_Password_1
LIMIT 1
2024-11-01 14:07:17.734 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:07:17.737 +01:00 [INF] Executed ViewResult - view Login executed in 2.5494ms.
2024-11-01 14:07:17.737 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 7.5772ms
2024-11-01 14:07:17.737 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:17.737 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 10.008ms
2024-11-01 14:07:22.197 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:07:22.199 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:22.200 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:22.200 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:07:22.204 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:07:22.205 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:07:22.208 +01:00 [INF] Executed ViewResult - view Login executed in 3.1101ms.
2024-11-01 14:07:22.230 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 29.5175ms
2024-11-01 14:07:22.230 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:22.230 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 33.103ms
2024-11-01 14:07:23.234 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Register - null null
2024-11-01 14:07:23.237 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:23.238 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:07:23.238 +01:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:07:23.240 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:07:23.241 +01:00 [INF] Executing ViewResult, running view Register.
2024-11-01 14:07:23.242 +01:00 [INF] Executed ViewResult - view Register executed in 1.4851ms.
2024-11-01 14:07:23.242 +01:00 [INF] Executed action photogram.Controllers.UserController.Register (photogram) in 4.5375ms
2024-11-01 14:07:23.242 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Register (photogram)'
2024-11-01 14:07:23.243 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Register - 200 null text/html; charset=utf-8 8.8644ms
2024-11-01 14:07:23.382 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/login - null null
2024-11-01 14:07:23.383 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:23.383 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:23.384 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-01 14:07:23.389 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:07:23.389 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-01 14:07:23.390 +01:00 [INF] Executed ViewResult - view Login executed in 1.4813ms.
2024-11-01 14:07:23.390 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 6.818ms
2024-11-01 14:07:23.391 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-01 14:07:23.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/login - 200 null text/html; charset=utf-8 8.8124ms
2024-11-01 14:07:35.145 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Post/CreatePost - multipart/form-data; boundary=----WebKitFormBoundaryGc0w3OecI5lEdZ9g 641111
2024-11-01 14:07:35.148 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:35.149 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 14:07:35.166 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(photogram.Models.PostViewModel) on controller photogram.Controllers.PostController (photogram).
2024-11-01 14:07:35.315 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 2), @p1='?' (DbType = DateTime), @p2='?' (Size = 23), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Content", "CreatedAt", "ImagePath", "UserName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "id";
2024-11-01 14:07:35.342 +01:00 [INF] Executing RedirectResult, redirecting to /Post/Feed.
2024-11-01 14:07:35.343 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 176.4375ms
2024-11-01 14:07:35.343 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 14:07:35.346 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Post/CreatePost - 302 0 null 202.0532ms
2024-11-01 14:07:35.349 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Post/Feed - null null
2024-11-01 14:07:35.355 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:07:35.357 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-01 14:07:35.361 +01:00 [INF] Route matched with {action = "Feed", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Feed() on controller photogram.Controllers.PostController (photogram).
2024-11-01 14:07:35.391 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."id", "p"."Content", "p"."CreatedAt", "p"."ImagePath", "p"."UserName"
FROM "Posts" AS "p"
2024-11-01 14:07:35.423 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-01 14:07:35.424 +01:00 [ERR] The view 'Feed' was not found. Searched locations: ["/Views/Post/Feed.cshtml","/Views/Shared/Feed.cshtml"]
2024-11-01 14:07:35.425 +01:00 [INF] Executed action photogram.Controllers.PostController.Feed (photogram) in 63.2222ms
2024-11-01 14:07:35.425 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-01 14:07:35.428 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Feed' was not found. The following locations were searched:
/Views/Post/Feed.cshtml
/Views/Shared/Feed.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-01 14:07:35.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Post/Feed - 500 null text/html; charset=utf-8 90.0901ms
2024-11-01 14:07:57.859 +01:00 [INF] Application is shutting down...
2024-11-01 14:08:05.172 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-01 14:08:05.463 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-11-01 14:08:05.471 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-11-01 14:08:05.582 +01:00 [INF] User profile is available. Using 'C:\Users\adm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-01 14:08:05.640 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-01 14:08:05.646 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-01 14:08:05.647 +01:00 [INF] Hosting environment: Development
2024-11-01 14:08:05.648 +01:00 [INF] Content root path: C:\Users\adm\Webapplikasjoner\photogram
2024-11-01 14:08:08.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-01 14:08:08.759 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-01 14:08:08.806 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:08.875 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 14:08:08.895 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-01 14:08:08.929 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-01 14:08:09.048 +01:00 [INF] Executed ViewResult - view Index executed in 120.5107ms.
2024-11-01 14:08:09.053 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 157.4294ms
2024-11-01 14:08:09.053 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-01 14:08:09.062 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 370.4333ms
2024-11-01 14:08:21.758 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Post/CreatePost - multipart/form-data; boundary=----WebKitFormBoundaryUXXMLlZdmZrnKvpE 641111
2024-11-01 14:08:21.763 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:21.769 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 14:08:21.807 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(photogram.Models.PostViewModel) on controller photogram.Controllers.PostController (photogram).
2024-11-01 14:08:22.116 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 2), @p1='?' (DbType = DateTime), @p2='?' (Size = 23), @p3='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Content", "CreatedAt", "ImagePath", "UserName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "id";
2024-11-01 14:08:22.154 +01:00 [INF] Executing RedirectResult, redirecting to /Post/Feed.
2024-11-01 14:08:22.155 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 348.4577ms
2024-11-01 14:08:22.156 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-01 14:08:22.169 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Post/CreatePost - 302 0 null 411.609ms
2024-11-01 14:08:22.170 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Post/Feed - null null
2024-11-01 14:08:22.171 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:22.174 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-01 14:08:22.179 +01:00 [INF] Route matched with {action = "Feed", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Feed() on controller photogram.Controllers.PostController (photogram).
2024-11-01 14:08:22.348 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."id", "p"."Content", "p"."CreatedAt", "p"."ImagePath", "p"."UserName"
FROM "Posts" AS "p"
2024-11-01 14:08:22.379 +01:00 [INF] Executing ViewResult, running view Feed.
2024-11-01 14:08:22.403 +01:00 [INF] Executed ViewResult - view Feed executed in 24.8107ms.
2024-11-01 14:08:22.403 +01:00 [INF] Executed action photogram.Controllers.PostController.Feed (photogram) in 223.9985ms
2024-11-01 14:08:22.404 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.Feed (photogram)'
2024-11-01 14:08:22.407 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Post/Feed - 200 null text/html; charset=utf-8 237.1366ms
2024-11-01 14:08:22.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/conference.jpg - null null
2024-11-01 14:08:22.445 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/norway.jpg - null null
2024-11-01 14:08:22.448 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:22.451 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:22.451 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/images/norway.jpg - 404 0 null 6.1465ms
2024-11-01 14:08:22.454 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/images/norway.jpg, Response status code: 404
2024-11-01 14:08:22.457 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/images/conference.jpg - 404 0 null 12.236ms
2024-11-01 14:08:22.460 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/images/conference.jpg, Response status code: 404
2024-11-01 14:08:22.479 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/sunset.jpg - null null
2024-11-01 14:08:22.483 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/recipes.jpg - null null
2024-11-01 14:08:22.486 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:22.487 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/images/recipes.jpg - 404 0 null 3.523ms
2024-11-01 14:08:22.488 +01:00 [WRN] Error unprotecting the session cookie.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to https://aka.ms/aspnet/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Session.CookieProtection.Unprotect(IDataProtector protector, String protectedText, ILogger logger)
2024-11-01 14:08:22.488 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/images/recipes.jpg, Response status code: 404
2024-11-01 14:08:22.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/images/sunset.jpg - 404 0 null 9.563ms
2024-11-01 14:08:22.488 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/images/sunset.jpg, Response status code: 404
2024-11-01 14:08:22.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/uploads/2024-05-18.png - null null
2024-11-01 14:08:22.571 +01:00 [INF] Sending file. Request path: '/uploads/2024-05-18.png'. Physical path: 'C:\Users\adm\Webapplikasjoner\photogram\wwwroot\uploads\2024-05-18.png'
2024-11-01 14:08:22.572 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/uploads/2024-05-18.png - 200 640827 image/png 81.2396ms
2024-11-01 14:08:37.815 +01:00 [INF] Application is shutting down...
