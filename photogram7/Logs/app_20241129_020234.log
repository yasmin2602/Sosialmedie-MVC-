2024-11-29 02:02:36.682 +01:00 [INF] User profile is available. Using '/Users/yasminali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-11-29 02:02:36.817 +01:00 [INF] Now listening on: http://localhost:5000
2024-11-29 02:02:36.826 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-29 02:02:36.827 +01:00 [INF] Hosting environment: Development
2024-11-29 02:02:36.828 +01:00 [INF] Content root path: /Users/yasminali/Downloads/photogram 6
2024-11-29 02:02:44.759 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-29 02:02:44.773 +01:00 [WRN] Failed to determine the https port for redirect.
2024-11-29 02:02:44.800 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 02:02:44.819 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-29 02:02:44.848 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-29 02:02:44.913 +01:00 [INF] Accessing expired session, Key:1b961540-7930-550b-e4e9-eca90a899f9a
2024-11-29 02:02:44.960 +01:00 [INF] Executed ViewResult - view Index executed in 84.1859ms.
2024-11-29 02:02:44.968 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 147.664ms
2024-11-29 02:02:44.968 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 02:02:44.996 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 238.6848ms
2024-11-29 02:02:46.994 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/User/Login - null null
2024-11-29 02:02:47.008 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 02:02:47.012 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller photogram.Controllers.UserController (photogram).
2024-11-29 02:02:47.079 +01:00 [INF] Executing ViewResult, running view Login.
2024-11-29 02:02:47.128 +01:00 [INF] Accessing expired session, Key:1b961540-7930-550b-e4e9-eca90a899f9a
2024-11-29 02:02:47.138 +01:00 [INF] Executed ViewResult - view Login executed in 61.9825ms.
2024-11-29 02:02:47.139 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 126.4772ms
2024-11-29 02:02:47.139 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 02:02:47.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/User/Login - 200 null text/html; charset=utf-8 250.0792ms
2024-11-29 02:02:49.492 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/User/Login - application/x-www-form-urlencoded 221
2024-11-29 02:02:49.505 +01:00 [INF] Executing endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 02:02:49.516 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(photogram.ViewModels.LoginViewModel) on controller photogram.Controllers.UserController (photogram).
2024-11-29 02:02:49.646 +01:00 [INF] Attempting to login
2024-11-29 02:02:49.923 +01:00 [INF] Accessing expired session, Key:1b961540-7930-550b-e4e9-eca90a899f9a
2024-11-29 02:02:49.924 +01:00 [INF] Executing RedirectResult, redirecting to /.
2024-11-29 02:02:49.925 +01:00 [INF] Executed action photogram.Controllers.UserController.Login (photogram) in 408.7728ms
2024-11-29 02:02:49.925 +01:00 [INF] Executed endpoint 'photogram.Controllers.UserController.Login (photogram)'
2024-11-29 02:02:49.929 +01:00 [INF] Session started; Key:1b961540-7930-550b-e4e9-eca90a899f9a, Id:55e5fe4a-0cae-bafe-0e18-1bfa66147637
2024-11-29 02:02:49.941 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/User/Login - 302 0 null 448.2103ms
2024-11-29 02:02:49.941 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2024-11-29 02:02:49.941 +01:00 [INF] Executing endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 02:02:49.942 +01:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller photogram.Controllers.HomeController (photogram).
2024-11-29 02:02:49.942 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-29 02:02:49.944 +01:00 [INF] Executed ViewResult - view Index executed in 2.0279ms.
2024-11-29 02:02:49.945 +01:00 [INF] Executed action photogram.Controllers.HomeController.Index (photogram) in 2.9668ms
2024-11-29 02:02:49.945 +01:00 [INF] Executed endpoint 'photogram.Controllers.HomeController.Index (photogram)'
2024-11-29 02:02:49.945 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 200 null text/html; charset=utf-8 3.7998ms
2024-11-29 02:02:52.838 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/Post/CreatePost - null null
2024-11-29 02:02:52.840 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 02:02:52.845 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreatePost() on controller photogram.Controllers.PostController (photogram).
2024-11-29 02:02:52.850 +01:00 [INF] Executing ViewResult, running view CreatePost.
2024-11-29 02:02:52.879 +01:00 [INF] Executed ViewResult - view CreatePost executed in 30.4909ms.
2024-11-29 02:02:52.879 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 33.9024ms
2024-11-29 02:02:52.880 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 02:02:52.880 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/Post/CreatePost - 200 null text/html; charset=utf-8 41.8606ms
2024-11-29 02:03:01.862 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Post/CreatePost - multipart/form-data; boundary=----WebKitFormBoundaryp93WYhxhNjiyCeEF 586356
2024-11-29 02:03:01.866 +01:00 [INF] Executing endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 02:03:01.881 +01:00 [INF] Route matched with {action = "CreatePost", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(photogram.Models.CreatePostModel) on controller photogram.Controllers.PostController (photogram).
2024-11-29 02:03:01.944 +01:00 [INF] Creating a new post in PostController
2024-11-29 02:03:02.180 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (Size = 55), @p3='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Content", "CreatedAt", "ImagePath", "UserName")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2024-11-29 02:03:02.218 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'photogram.DAL.PostDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Posts.Content'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Posts.Content'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-29 02:03:02.229 +01:00 [ERR] [PostRepository] Create failed for Post {"Id":0,"Content":null,"UserName":"hei@gmail.com","ImagePath":"/uploads/de22a743-8b5a-4b1b-9e9a-11f27b966ede_image.jpg","CreatedAt":"2024-11-29T02:03:01.9444800+01:00","Comments":[],"$type":"Post"}: An error occurred while saving the entity changes. See the inner exception for details.
2024-11-29 02:03:02.232 +01:00 [ERR] Failed to create the post.
2024-11-29 02:03:02.257 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-29 02:03:02.259 +01:00 [INF] Executed action photogram.Controllers.PostController.CreatePost (photogram) in 377.3156ms
2024-11-29 02:03:02.259 +01:00 [INF] Executed endpoint 'photogram.Controllers.PostController.CreatePost (photogram)'
2024-11-29 02:03:02.267 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/Post/CreatePost - 500 null text/plain; charset=utf-8 405.098ms
2024-11-29 02:05:19.824 +01:00 [INF] Application is shutting down...
